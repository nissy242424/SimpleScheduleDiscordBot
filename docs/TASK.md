# 実装タスク一覧

## フェーズ1: 環境構築と基本動作確認
- [x] プロジェクト構造の作成
  - [x] srcディレクトリの作成
  - [x] 必要なパッケージのインストール
    - [x] discord.py
    - [x] python-dotenv
    - [x] aiosqlite
  - [x] requirements.txtの作成
- [x] 環境変数の設定
  - [x] .env.exampleの作成
  - [x] Botトークンの設定
- [x] Bot基本実装
  - [x] main.pyの作成
  - [x] Botクラスの基本実装
  - [x] 起動確認

## フェーズ2: スラッシュコマンド基盤構築
- [x] Pingコマンドの実装
  - [x] コマンドハンドラの実装
  - [x] /pingコマンドの登録
  - [x] レスポンス処理の実装
  - [x] 動作確認
    - [x] スラッシュコマンドの表示確認
    - [x] レスポンスの確認
    - [x] 権限設定の確認
- [x] エラーハンドリングの基本設定
  - [x] コマンドエラーのハンドリング
  - [x] エラーメッセージの実装
- [x] ログ設定
  - [x] 基本ログの実装
  - [x] コマンド実行ログの実装

## フェーズ3: データベース基盤構築
- [x] データベース関連
  - [x] DatabaseManagerの実装
    - [x] データベース接続管理
    - [x] トランザクション管理
    - [x] テーブル自動作成機能
  - [x] RepositoryパターンによるCRUD操作の実装
    - [x] スケジュール作成/取得/更新
    - [x] 投票の管理
    - [x] スケジュール状態管理
    - [x] リマインダー状態管理
  - [ ] マイグレーションスクリプトの作成
- [x] モデルの実装
  - [x] Scheduleクラスの実装（100%カバレッジ達成）
  - [x] VoteStatusの実装（テスト完了）
  - [x] ScheduleStatusの実装（テスト完了）
- [ ] データベーステストの実装
  - [ ] CRUD操作のテスト
  - [ ] トランザクションのテスト

## フェーズ4: スケジュール機能実装
- [ ] スケジュール作成コマンド
  - [ ] モーダルUIの実装
  - [ ] 日時選択UIの実装
  - [ ] バリデーション処理
  - [ ] データ保存処理
- [ ] 投票機能
  - [ ] ボタンUIの実装（⭕🔺❌）
  - [ ] 投票状態の保存
  - [ ] 結果表示の更新
- [ ] スケジュール一覧表示
  - [ ] 一覧表示コマンド
  - [ ] エンベッドメッセージの整形

## フェーズ5: リマインダー機能実装
- [ ] リマインダーサービス
  - [ ] 定期チェック処理
  - [ ] 通知条件の評価
  - [ ] メンション通知の送信
- [ ] リマインド管理
  - [ ] 送信済み状態の管理
  - [ ] 重複通知の防止

## フェーズ6: テスト実装
- [x] ユニットテスト
  - [x] モデルのテスト
    - [x] Scheduleモデル (100%カバレッジ達成)
    - [x] VoteStatus
    - [x] ScheduleStatus
  - [ ] サービスのテスト
  - [ ] リポジトリのテスト
- [ ] 統合テスト
  - [ ] コマンド実行のテスト
  - [ ] データフローのテスト
- [ ] E2Eテスト
  - [ ] 実際のDiscord上での動作確認
  - [ ] エラーケースの確認

## フェーズ7: 運用準備
- [ ] エラーハンドリングの強化
  - [ ] エラーメッセージの整備
  - [ ] ログ出力の実装
- [ ] デプロイ準備
  - [ ] 起動スクリプトの作成
  - [ ] 環境変数の設定確認
- [ ] ドキュメントの更新
  - [ ] READMEの更新
  - [ ] CHANGELOGの更新

## 補足タスク
- [ ] コードのリファクタリング
- [ ] パフォーマンス最適化
- [ ] セキュリティチェック
- [ ] コードコメントの追加

## 完了条件
- すべての基本機能が実装されている
- テストが完了している
- ドキュメントが更新されている
- エラーハンドリングが適切に実装されている
- セキュリティ上の問題がない

## 開発フロー
1. 各フェーズは順番に実施
2. 各タスクは小さな単位で実装
3. 実装後は必ずテストを実施
4. 問題があれば即座に修正
5. 定期的にコミットを行う

## 注意事項
- 各フェーズの開始前に必要な依存関係を確認
- エラーハンドリングは常に意識して実装
- コードの可読性を重視
- ドキュメントは都度更新
